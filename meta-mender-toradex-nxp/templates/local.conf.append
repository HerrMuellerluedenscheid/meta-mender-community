
# Appended fragment from meta-mender-community/meta-mender-toradex-nxp/templates

# Comment/remove below to enable GRUB integration instead of U-Boot
MENDER_FEATURES_ENABLE:append = " mender-uboot mender-image-sd"
MENDER_FEATURES_DISABLE:append = " mender-grub mender-image-uefi"

#
# Settings for colibri-imx6ull
#
INHERIT:remove_colibri-imx6ull = " mender-full "
INHERIT:append_colibri-imx6ull = " mender-full-ubi "
MENDER_MTDIDS = "${@bb.utils.contains('MACHINE', 'colibri-imx6ull', 'nand0=gpmi-nand', '', d)}"
MENDER_MTDPARTS_colibri-imx6ull = "gpmi-nand:512k(mx6ull-bcb),1536k(u-boot1)ro,1536k(u-boot2)ro,-(ubi)"
MENDER_STORAGE_TOTAL_SIZE_MB_colibri-imx6ull = "512"
MENDER_STORAGE_PEB_SIZE_colibri-imx6ull = "131072"
MKUBIFS_ARGS_colibri-imx6ull = "-m ${MENDER_FLASH_MINIMUM_IO_UNIT} -e ${MENDER_UBI_LEB_SIZE} -c ${MENDER_MAXIMUM_LEB_COUNT} --space-fixup"
MENDER_FEATURES_ENABLE:remove_colibri-imx6ull = " mender-image-sd mender-image-grub mender-image-uefi"
MENDER_FEATURES_DISABLE:append_colibri-imx6ull = " mender-grub mender-image-uefi mender-image-sd"
#
# Settings for apalis-imx6
#
MENDER_STORAGE_DEVICE_apalis-imx6 = "/dev/mmcblk2"
MENDER_UBOOT_STORAGE_DEVICE_apalis-imx6 = "0"
MENDER_STORAGE_TOTAL_SIZE_MB_apalis-imx6 = "2048"
